---
title: "Papayar"
author: "John Muschelli"
date: "July 15, 2016"
bibliography: JSM_2016.bib
output:
  ioslides_presentation:
    self_contained: false
    includes:
      in_header: header.html
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, 
                      warning = FALSE, 
                      message = FALSE)
```

## Problem: Images are 3D:  Brain Example

```{r plot}
library(fslr)
img = mni_img(brain = TRUE)
img = dropEmptyImageDimensions(img)
writenii(img, "reduced_mni.nii.gz")
threshval = 7500
thresh = img > threshval
writenii(thresh, "threshold.nii.gz")
i2 = fslswapdim(img, a = "-x")
t2 = i2 > threshval
ortho2(i2, add.orient = FALSE)
```

## We want to explore results

```{r thresh}
ortho2(i2, t2, add.orient = FALSE)
```

## Solution: Interactive exploring

```{r div, results='asis'}
library(papayar)
x = papaya_div()
cat(x)
```

## Let's make it interactive!

1. What is the value added?
2. Is it necessary? 
3. How could I first incorporate it in a static way (e.g. journals)
    - When that fails go interactive
    
Many times it's to display results.


## First Attempt: Use manipulate

The `manipulate` package [@manipulate] from RStudio can add interactivity, BUT:

- Images rendering was slow (due to my plotting function)
- Only works with RStudio
- Can't be embedded 


## Next Attempt: Port (i.e. Steal) another program




## Lessons Learned

- Use other people's stuff
- Porting to R can help a communithy
    - not always so straightforward
    - Functionality at the whim of the maintainer
    - not std R
- htmlwidgets is great
    - not always super easy for a user to cram into
    


## Bibliography
